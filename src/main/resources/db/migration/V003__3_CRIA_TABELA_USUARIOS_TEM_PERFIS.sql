-- Remover a tabela se jรก existir
DROP TABLE IF EXISTS USUARIOS_TEM_PERFIS;

-- Criar a tabela de relacionamento
CREATE TABLE USUARIOS_TEM_PERFIS (
    USUARIO_ID BIGINT NOT NULL,
    PERFIL_ID BIGINT NOT NULL,
    PRIMARY KEY (USUARIO_ID, PERFIL_ID),
    CONSTRAINT FK_USUARIO_TEM_PERFIL FOREIGN KEY (USUARIO_ID) REFERENCES USUARIO (ID_USUARIO) ON DELETE CASCADE,
    CONSTRAINT FK_PERFIL_TEM_USUARIO FOREIGN KEY (PERFIL_ID) REFERENCES PERFIS (ID) ON DELETE CASCADE
);

-- Inserir dados iniciais
INSERT INTO USUARIOS_TEM_PERFIS (USUARIO_ID, PERFIL_ID) VALUES (1, 1);
